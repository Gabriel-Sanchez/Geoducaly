<!-- <form method="post">
    {% csrf_token %}
    {{ mi_formset.management_form }}
    {% for form in mi_formset %}
        {{ form.as_p }}
    {% endfor %}
    <input type="submit" value="Enviar">
</form> -->


<form method="post" id="form-set">
    {% csrf_token %}




    <!-- {{ questForm.management_form }} 


    {% for form in  questForm%}
    <div class="form-row2">
        {{ form }}
        <button type="button" class="delete-button">Delete</button>
    </div>
    {% endfor %} -->



   

        
        {{ formset.management_form }}
        <p></p>
        <p></p>
        {% for form in formset %}
        <div class="form-row">
            {{ form }}
            <button type="button" class="delete-button">Delete</button>
        </div>
        {% endfor %}
   
        
        <!-- <button type="button" id="add-button">Add</button> -->
        <button type="button" id="add-button">Add</button>
    <input type="submit" value="Submit">
</form>

<!-- Template for an empty form -->
<div id="empty-form" style="display:none;">
    <div class="form-row">
        {{ formset.empty_form }}
        <p></p>
        <button type="button" class="delete-button">Delete</button>
    </div>
</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>




<script>
    $(document).ready(function() {
        // Add form when "Add" button is clicked
        $('#add-button').click(function() {
            var formIdx = $('#id_form1-TOTAL_FORMS').val();
            $('#form-set').append($('#empty-form').html().replace(/__prefix__/g, formIdx));
            $('#id_form1-TOTAL_FORMS').val(parseInt(formIdx) + 1);
        });
    
        // Remove form when "Delete" button is clicked
        $('#form-set').on('click', '.delete-button', function() {
            //var formIdx = $('#id_form1-TOTAL_FORMS').val();
            //$('#id_form1-TOTAL_FORMS').val(parseInt(formIdx) - 1);
            $(this).closest('.form-row').remove();
        });
    });
</script>


<!-- <script>
    document.addEventListener('click', (event)=>{
        if (event.target.id == 'add-more-quiz') {
            add_new_form(event)
            add_a(event)
        }
        })
        function add_new_form(event) {
            if (event) {
                event.preventDefault()
            }
            console.log('haaaaa')
        }
        function add_a(event){
            if (event) {
                event.preventDefault()
            }
            var formIdx = $('#id_form1-TOTAL_FORMS').val();
            $('#form-set').append($('#empty-form').html().replace(/__prefix__/g, formIdx));
            $('#id_form1-TOTAL_FORMS').val(parseInt(formIdx) + 1);
        }
</script> -->



<!-- <script>
    
    
    document.addEventListener('click', (event)=>{
        if (event.target.id == 'add-more') {
            add_new_form(event)
        }
    })
    function add_new_form(event) {
        if (event) {
            event.preventDefault()
        }
        const totalNewForms = document.getElementById('id_form-TOTAL_FORMS')
        const currentIngredientForms = document.getElementsByClassName('ingredient-form')
        const currentFormCount = currentIngredientForms.length // + 1
        const formCopyTarget = document.getElementById('ingredient-form-list')
        const copyEmptyFormEl = document.getElementById('empty-form').cloneNode(true)
        copyEmptyFormEl.setAttribute('class', 'ingredient-form')
        copyEmptyFormEl.setAttribute('id', `form-${currentFormCount}`)
        const regex = new RegExp('__prefix__', 'g')
        copyEmptyFormEl.innerHTML = copyEmptyFormEl.innerHTML.replace(regex, currentFormCount)
        totalNewForms.setAttribute('value', currentFormCount + 1)
        // now add new empty form element to our html form
        formCopyTarget.append(copyEmptyFormEl)
    }
    


</script>  -->